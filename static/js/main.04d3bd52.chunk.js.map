{"version":3,"sources":["service/localStorage.js","service/xivApi.js","components/LodestoneModal.jsx","components/CalculationsRow.jsx","components/SortableTableHeader.jsx","components/CalculationsTable.jsx","components/Calculations.jsx","components/App.js","index.js"],"names":["KEYS","CHARACTER_DATA","CRAFTING_CLASS_DATA","store","key","data","localStorage","setItem","JSON","stringify","retrieveAndUpdateCraftingClassData","defaultCraftingClasses","_map","CRAFTING_CLASSES","c","currentLevel","currentExperience","experiencePerItem","totalExperience","storedData","getItem","craftingClasses","parse","result","forEach","defaultCraftingClass","storedCraftingClass","_find","abbreviation","classDiffs","_filter","diff","d","type","length","applyChanges","push","retrieveAndUpdateCharacterData","BASE_URL","searchForCharacter","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","server","name","page","_args","arguments","wrap","_context","prev","next","undefined","axios","get","concat","sent","abrupt","_get","stop","_x","_x2","apply","this","getCharacter","_ref2","_callee2","id","_context2","_x3","INITIAL_STATE","characterId","loading","searchResult","LodestoneModal","state","_cloneDeep","onHide","props","setState","objectSpread","event","preventDefault","_this$state","findCharacters","alert","bind","XivApi","onSelect","characterData","handleHide","_this2","show","_this$state3","react_default","createElement","Modal","Header","closeButton","Title","Body","Form","Group","Label","Control","as","onChange","handleServerSelect","XIV_SERVERS","value","handleNameEntry","Button","onClick","handleSearch","disabled","className","Spinner","animation","variant","Check","label","Name","ID","handleSelect","src","Avatar","alt","width","height","style","marginRight","Pagination","PagePrev","handleChangePage","PageNext","Footer","handleSubmit","React","Component","CalculationsRow","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","min","max","parseInt","prevProps","prevState","snapshot","newState","_forEach","field","_isEqual","_set","keys","fieldName","fieldValue","validatedValue","validateValue","EXP_PER_LEVEL","updateLocalStorage","remainingExperience","progressPercentage","Math","floor","handleFieldUpdate","onBlur","handleLocalStorageUpdate","ceil","ProgressBar","now","SortableTableHeader","_this$props","text","sortField","updateSorting","cursor","index_es","icon","faSort","sortByProgress","CalculationsTable","classData","Table","hover","striped","components_SortableTableHeader","k","components_CalculationsRow","assign","defaultProps","Calculations","lodestoneModalIsOpen","sortData","direction","filterData","criteria","LocalStorageService","removeItem","updateCharacterData","updateStoredDataWithLodestoneData","updateClassData","classJobCategories","craftingClassData","_values","_includes","lodestoneClassData","newData","newClassData","targetData","replacementData","toUpdate","_uniqBy","_concat","_orderBy","newSortData","characterIsLoaded","Character","Navbar","bg","sticky","Brand","Nav","NavDropdown","title","Item","setFilter","Divider","cc","Fragment","Link","activateLodestoneModal","clearCraftingClassData","refreshCharacterData","clearCharacterData","Container","fluid","components_CalculationsTable","applyFilter","applySorting","setSorting","components_LodestoneModal","deactivateLodestoneModal","App","components_Calculations","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.04d3bd52.chunk.js","sourcesContent":["import CRAFTING_CLASSES from '../data/crafting-classes'\nimport { applyChanges, diff } from 'diff-json'\nimport {\n  filter as _filter,\n  find as _find,\n  get as _get,\n  includes as _includes,\n  map as _map,\n  set as _set,\n  values as _values\n} from 'lodash'\n\nconst KEYS = {\n  CHARACTER_DATA: 'character',\n  CRAFTING_CLASS_DATA: 'craftingClasses'\n}\n\nfunction store (key, data) {\n  localStorage.setItem(key, JSON.stringify(data))\n}\n\nexport function retrieveAndUpdateCraftingClassData () {\n  // get the default crafting class data\n  const defaultCraftingClasses = getDefaultCraftingClasses()\n\n  // retrieve the stored data from local storage\n  const storedData = localStorage.getItem(KEYS.CRAFTING_CLASS_DATA)\n\n  // if there is no stored data, return the default data\n  if (!storedData) {\n    return defaultCraftingClasses\n  }\n\n  // if there is stored data, convert it to JSON\n  const craftingClasses = JSON.parse(storedData)\n\n  // create a variable for the result\n  const result = []\n\n  // cycle through all \"default\" classes\n  defaultCraftingClasses.forEach(defaultCraftingClass => {\n    // retrieve the matching stored class\n    const storedCraftingClass = _find(craftingClasses, c => c.abbreviation === defaultCraftingClass.abbreviation)\n\n    // if there is no matching stored class data, add the default for this class to the result\n    if (!storedCraftingClass) {\n      result.push(defaultCraftingClass)\n      return\n    }\n\n    // get any added data to the default data set and apply it to the stored data\n    const classDiffs = _filter(diff(storedCraftingClass, defaultCraftingClass), d => d.type === 'add')\n    if (classDiffs.length > 0) {\n      applyChanges(storedCraftingClass, classDiffs)\n    }\n\n    // add this record to the result to return\n    result.push(storedCraftingClass)\n  })\n\n  // send back the updated stored data\n  return result\n}\n\nexport function retrieveAndUpdateCharacterData () {\n  // get the stored character data\n  const storedData = localStorage.getItem(KEYS.CHARACTER_DATA)\n\n  // if there is no character data, return undefined\n  if (!storedData) {\n    return undefined\n  }\n\n  // if there is, update it\n  // TBD\n\n  // return the character data\n  return JSON.parse(storedData)\n}\n\nexport function storeCharacterData (characterData) {\n  // localStorage.setItem(KEYS.CHARACTER_DATA, JSON.stringify(characterData))\n  store(KEYS.CHARACTER_DATA, characterData)\n}\n\nexport function storeCraftingClassData (craftingClasses) {\n  // localStorage.setItem(KEYS.CRAFTING_CLASS_DATA, JSON.stringify(craftingClasses))\n  store(KEYS.CRAFTING_CLASS_DATA, craftingClasses)\n}\n\nexport function clearCharacterData () {\n  if (!!localStorage.getItem(KEYS.CHARACTER_DATA)) {\n    localStorage.removeItem(KEYS.CHARACTER_DATA)\n  }\n}\n\nexport function clearCraftingClassData () {\n  if (!!localStorage.getItem(KEYS.CRAFTING_CLASS_DATA)) {\n    localStorage.removeItem(KEYS.CRAFTING_CLASS_DATA)\n  }\n}\n\nexport function updateCraftingClassDataWithCharacterData () {\n  const classJobCategories = ['Disciple of the Land', 'Disciple of the Hand']\n  const craftingClassData = retrieveAndUpdateCraftingClassData()\n  const characterData = _filter(_values(_get(retrieveAndUpdateCharacterData(), 'Character.ClassJobs')),\n    c => _includes(classJobCategories, _get(c, 'Class.ClassJobCategory.Name')))\n\n  return _map(craftingClassData, c => {\n    const lodestoneClassData = _find(characterData, d => _get(d, 'Class.Abbreviation') === _get(c, 'abbreviation'))\n    _set(c, 'currentLevel', _get(lodestoneClassData, 'Level', 1))\n    _set(c, 'currentExperience', _get(lodestoneClassData, 'ExpLevel', 0))\n    _set(c, 'totalExperience', _get(lodestoneClassData, 'ExpLevelMax', c.totalExperience))\n    return c\n  })\n}\n\nexport function getDefaultCraftingClasses () {\n  return _map(CRAFTING_CLASSES, c => {\n    c.currentLevel = 1\n    c.currentExperience = 0\n    c.experiencePerItem = 1\n    c.totalExperience = 300\n    return c\n  })\n}\n","import axios from 'axios'\nimport { get as _get } from 'lodash'\n\n// const PRIVATE_KEY = '257f7d4532a74f15a429b5262d51d0f3938964ea78124b1ca8da9459accc15b7'\nconst BASE_URL = 'https://xivapi.com'\n\nexport const searchForCharacter = async (server, name, page = 1) => {\n  const result = await axios.get(`${BASE_URL}/character/search?name=${name}&server=${server}&page=${page}`)\n  return _get(result, 'data', [])\n}\n\nexport const getCharacter = async id => {\n  const result = await axios.get(`${BASE_URL}/character/${id}?extended=1`)\n  return _get(result, 'data', {})\n}\n\nexport const getServers = async () => {\n  const result = await axios.get(`${BASE_URL}/servers`)\n  return _get(result, 'data', [])\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { cloneDeep as _cloneDeep, get as _get, map as _map } from 'lodash'\nimport { Button, Form, Modal, Spinner } from 'react-bootstrap'\nimport * as XivApi from '../service/xivApi'\nimport XIV_SERVERS from '../data/xiv-servers'\n\nconst INITIAL_STATE = {\n  characterId: undefined,\n  loading: false,\n  name: undefined,\n  searchResult: undefined,\n  server: undefined\n}\n\nclass LodestoneModal extends React.Component {\n  state = _cloneDeep(INITIAL_STATE)\n\n  handleHide () {\n    const { onHide } = this.props\n    onHide()\n    this.setState({\n      ...INITIAL_STATE\n    })\n  }\n\n  handleSearch (event) {\n    if (event) {\n      event.preventDefault()\n    }\n\n    const { name, server } = this.state\n    if (!name || !server) {\n      alert('Name and Server are required to find your character data.  Please fill out both fields and try again.')\n      return\n    }\n\n    this.setState({\n      loading: true,\n      characterId: undefined\n    }, this.findCharacters)\n  }\n\n  handleSelect (characterId) {\n    this.setState({\n      characterId\n    })\n  }\n\n  handleChangePage (page) {\n    this.setState({\n      loading: true\n    }, this.findCharacters.bind(this, page))\n  }\n\n  handleServerSelect (event) {\n    const server = _get(event, 'target.value', event)\n    this.setState({\n      server\n    })\n  }\n\n  handleNameEntry (event) {\n    const name = _get(event, 'target.value', event)\n    this.setState({\n      name\n    })\n  }\n\n  async findCharacters (page = 1) {\n    const { name, server } = this.state\n    const searchResult = await XivApi.searchForCharacter(server, name, page)\n    this.setState({\n      searchResult,\n      loading: false\n    })\n  }\n\n  async handleSubmit () {\n    const { onSelect } = this.props\n    const { characterId } = this.state\n    const characterData = await XivApi.getCharacter(characterId)\n    onSelect(characterData)\n    this.handleHide()\n  }\n\n  render () {\n    const { show } = this.props\n    const { characterId, loading, name, searchResult, server } = this.state\n    return (\n      <Modal show={show} onHide={this.handleHide.bind(this)}>\n        <Modal.Header closeButton>\n          <Modal.Title>\n            Import Character Data\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <Form.Group>\n              <Form.Label>Server</Form.Label>\n              <Form.Control as=\"select\" onChange={this.handleServerSelect.bind(this)}>\n                <option>Choose a Server</option>\n                {_map(XIV_SERVERS, (server, key) => (\n                  <option key={key} value={server}>{server}</option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Name</Form.Label>\n              <Form.Control type=\"text\" onChange={this.handleNameEntry.bind(this)} />\n            </Form.Group>\n            <Button type=\"submit\" onClick={this.handleSearch.bind(this)} disabled={!name || !server}>\n              Search\n            </Button>\n          </Form>\n          <hr />\n          {!!loading && (\n            <div className=\"fullWidth text-center\">\n              <Spinner animation=\"grow\" variant=\"danger\" />\n              <Spinner animation=\"grow\" variant=\"warning\" />\n              <Spinner animation=\"grow\" variant=\"success\" />\n            </div>\n          )}\n          {!loading && !searchResult && (\n            <div className=\"fullWidth text-center\">\n              No results to display.\n            </div>\n          )}\n          {!loading && !!searchResult && (\n            <div>\n              <div className=\"results\">\n                <table className=\"fullWidth\">\n                  <tbody>\n                  {_map(_get(searchResult, 'Results', []), (result, key) => (\n                    <tr key={key}>\n                      <td className=\"text-left\">\n                        <Form.Check\n                          type=\"radio\"\n                          label={result.Name}\n                          name=\"characterData\"\n                          value={result.ID}\n                          onChange={this.handleSelect.bind(this, result.ID)}\n                        />\n                      </td>\n                      <td className=\"text-right\">\n                        <img src={result.Avatar} alt={result.Name} width={36} height={36}\n                             style={{ marginRight: '1em' }} />\n                      </td>\n                    </tr>\n                  ))}\n                  </tbody>\n                </table>\n              </div>\n              <div className=\"row\">\n                <div className=\"col text-left\">\n                  {!!searchResult.Pagination && !!searchResult.Pagination.PagePrev && (\n                    <Button variant=\"dark\" onClick={this.handleChangePage.bind(this, searchResult.Pagination.PagePrev)}>\n                      Prev Page\n                    </Button>\n                  )}\n                </div>\n                <div className=\"col text-right\">\n                  {!!searchResult.Pagination && !!searchResult.Pagination.PageNext && (\n                    <Button variant=\"dark\" onClick={this.handleChangePage.bind(this, searchResult.Pagination.PageNext)}>\n                      Next Page\n                    </Button>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            variant=\"danger\"\n            onClick={this.handleHide.bind(this)}\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"success\"\n            onClick={this.handleSubmit.bind(this)}\n            disabled={!characterId}\n          >\n            Select\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n\nLodestoneModal.propTypes = {\n  show: PropTypes.bool.isRequired,\n  onHide: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired\n}\n\nexport default LodestoneModal\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { forEach as _forEach, get as _get, isEqual as _isEqual, set as _set } from 'lodash'\nimport { Form, ProgressBar } from 'react-bootstrap'\nimport EXP_PER_LEVEL from '../data/exp-per-level'\n\nclass CalculationsRow extends React.Component {\n  static validateValue (value, min, max) {\n    if (!value) return 0\n\n    min = parseInt(min)\n    max = parseInt(max)\n    value = parseInt(value)\n\n    if (value < min) return min\n    if (value > max) return max\n    return value\n  }\n\n  constructor (props) {\n    super(props)\n\n    const { currentLevel, currentExperience, experiencePerItem, totalExperience } = props\n\n    this.state = {\n      currentLevel,\n      currentExperience,\n      experiencePerItem,\n      totalExperience\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState, snapshot) {\n    const fields = ['currentLevel', 'currentExperience', 'experiencePerItem', 'totalExperience']\n    const newState = {}\n\n    _forEach(fields, field => {\n      if (!_isEqual(this.props[field], prevProps[field])) {\n        _set(newState, field, this.props[field])\n      }\n    })\n\n    if (Object.keys(newState).length > 0) {\n      this.setState({\n        ...newState\n      })\n    }\n  }\n\n  handleFieldUpdate (event) {\n    const fieldName = _get(event, 'target.name')\n    const fieldValue = _get(event, 'target.value')\n    const validatedValue = CalculationsRow.validateValue(fieldValue,\n      _get(event, 'target.min'), _get(event, 'target.max'))\n\n    const newState = {}\n    _set(newState, fieldName, validatedValue)\n\n    if (fieldName === 'currentLevel') {\n      _set(newState, 'totalExperience', EXP_PER_LEVEL[validatedValue])\n    }\n\n    this.setState({\n      ...newState\n    })\n  }\n\n  handleLocalStorageUpdate (event) {\n    const { updateLocalStorage } = this.props\n    const fieldName = _get(event, 'target.name')\n    const data = {}\n    data[fieldName] = this.state[fieldName]\n    if (fieldName === 'currentLevel') {\n      _set(data, 'totalExperience', _get(this.state, 'totalExperience'))\n    }\n    updateLocalStorage(data)\n  }\n\n  render () {\n    const { name } = this.props\n    const { currentLevel, currentExperience, experiencePerItem, totalExperience } = this.state\n    const remainingExperience = totalExperience - currentExperience\n    const progressPercentage = totalExperience === 0 ? 0 : Math.floor((currentExperience / totalExperience) * 100)\n    return (\n      <tr className=\"calculations\">\n        <td>\n          {name}\n        </td>\n        <td>\n          <Form.Control\n            type=\"number\"\n            min={1}\n            max={69}\n            value={currentLevel}\n            name=\"currentLevel\"\n            onChange={this.handleFieldUpdate.bind(this)}\n            onBlur={this.handleLocalStorageUpdate.bind(this)}\n          />\n        </td>\n        <td>\n          <Form.Control\n            type=\"number\"\n            min={0}\n            max={totalExperience}\n            value={currentExperience}\n            name=\"currentExperience\"\n            onChange={this.handleFieldUpdate.bind(this)}\n            onBlur={this.handleLocalStorageUpdate.bind(this)}\n          />\n        </td>\n        <td>\n          {totalExperience}\n        </td>\n        <td>\n          {remainingExperience}\n        </td>\n        <td>\n          <Form.Control\n            type=\"number\"\n            min={1}\n            max={totalExperience}\n            value={experiencePerItem}\n            name=\"experiencePerItem\"\n            onChange={this.handleFieldUpdate.bind(this)}\n            onBlur={this.handleLocalStorageUpdate.bind(this)}\n          />\n        </td>\n        <td>\n          {Math.max(Math.ceil(remainingExperience / experiencePerItem), 0)}\n        </td>\n        <td>\n          <ProgressBar\n            now={progressPercentage}\n            label={`${currentExperience} / ${totalExperience} (${progressPercentage}%)`}\n          />\n        </td>\n      </tr>\n    )\n  }\n}\n\nCalculationsRow.propTypes = {\n  currentLevel: PropTypes.number.isRequired,\n  currentExperience: PropTypes.number.isRequired,\n  experiencePerItem: PropTypes.number.isRequired,\n  totalExperience: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  abbreviation: PropTypes.string.isRequired,\n  updateLocalStorage: PropTypes.func.isRequired\n}\n\nexport default CalculationsRow\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSort } from '@fortawesome/free-solid-svg-icons'\n\nclass SortableTableHeader extends React.Component {\n  render () {\n    const { text, sortField, updateSorting } = this.props\n    return (\n      <th onClick={updateSorting.bind(this, sortField)}\n        style={{ cursor: 'pointer' }}\n      >\n        {text}\n        <FontAwesomeIcon\n          className=\"margin-left\"\n          icon={faSort}\n        />\n      </th>\n    )\n  }\n}\n\nSortableTableHeader.propTypes = {\n  text: PropTypes.string.isRequired,\n  sortField: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  updateSorting: PropTypes.func.isRequired\n}\n\nexport default SortableTableHeader\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { map as _map } from 'lodash'\nimport { Table } from 'react-bootstrap'\nimport CalculationsRow from './CalculationsRow'\nimport SortableTableHeader from './SortableTableHeader'\n\nfunction sortByProgress (c) {\n  return !c.totalExperience ? 0 : c.currentExperience / c.totalExperience\n}\n\nclass CalculationsTable extends React.Component {\n  render () {\n    const { classData, updateLocalStorage, updateSorting } = this.props\n    return (\n      <div>\n        <Table hover striped className=\"calculations\">\n          <thead>\n          <tr>\n            <SortableTableHeader text=\"Class\" sortField=\"name\" updateSorting={updateSorting} />\n            <SortableTableHeader text=\"Level\" sortField=\"currentLevel\" updateSorting={updateSorting} />\n            <th>Current Exp.</th>\n            <th>Required Exp.</th>\n            <th>Remaining Exp.</th>\n            <th>Exp. Per Item</th>\n            <th>Remaining Items</th>\n            <SortableTableHeader text=\"Progress\" sortField={sortByProgress} updateSorting={updateSorting} />\n          </tr>\n          </thead>\n          <tbody>\n          {!!classData && _map(classData, (c, k) => (\n            <CalculationsRow key={k} {...c} updateLocalStorage={updateLocalStorage.bind(this, c.abbreviation)} />\n          ))}\n          </tbody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nCalculationsTable.propTypes = {\n  classData: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  updateLocalStorage: PropTypes.func.isRequired,\n  updateSorting: PropTypes.func.isRequired\n}\n\nCalculationsTable.defaultProps = {\n  classData: []\n}\n\nexport default CalculationsTable\n","import React from 'react'\nimport {\n  cloneDeep as _cloneDeep,\n  concat as _concat,\n  filter as _filter,\n  find as _find,\n  get as _get,\n  isEqual as _isEqual,\n  map as _map,\n  orderBy as _orderBy,\n  uniqBy as _uniqBy\n} from 'lodash'\nimport { Container, Nav, Navbar, NavDropdown } from 'react-bootstrap'\nimport * as LocalStorageService from '../service/localStorage'\nimport * as XivApi from '../service/xivApi'\nimport LodestoneModal from './LodestoneModal'\nimport CalculationsTable from './CalculationsTable'\nimport CRAFTING_CLASSES from '../data/crafting-classes'\n\nclass Calculations extends React.Component {\n  state = {\n    lodestoneModalIsOpen: false,\n    sortData: {\n      field: 'name',\n      direction: 'asc'\n    },\n    filterData: {\n      label: 'All',\n      criteria: undefined\n    }\n  }\n\n  componentDidMount () {\n    const characterData = LocalStorageService.retrieveAndUpdateCharacterData()\n    const classData = LocalStorageService.retrieveAndUpdateCraftingClassData()\n\n    this.setState({\n      characterData,\n      classData\n    })\n  }\n\n  activateLodestoneModal () {\n    this.setState({\n      lodestoneModalIsOpen: true\n    })\n  }\n\n  deactivateLodestoneModal () {\n    this.setState({\n      lodestoneModalIsOpen: false\n    })\n  }\n\n  clearCharacterData () {\n    LocalStorageService.clearCharacterData()\n    this.setState({\n      characterData: undefined\n    })\n  }\n\n  clearCraftingClassData () {\n    LocalStorageService.clearCraftingClassData()\n    this.setState({\n      classData: LocalStorageService.retrieveAndUpdateCraftingClassData()\n    })\n  }\n\n  async refreshCharacterData () {\n    const characterId = _get(this.state, 'characterData.Character.ID')\n    const characterData = await XivApi.getCharacter(characterId)\n    this.updateCharacterData(characterData)\n    // this.updateStoredDataWithLodestoneData()\n  }\n\n  updateCharacterData (characterData) {\n    LocalStorageService.storeCharacterData(characterData)\n    this.setState({\n      characterData\n    }, this.updateStoredDataWithLodestoneData.bind(this))\n  }\n\n  updateClassData (classData) {\n    LocalStorageService.storeCraftingClassData(classData)\n    this.setState({\n      classData\n    })\n  }\n\n  updateStoredDataWithLodestoneData () {\n    this.updateClassData(LocalStorageService.updateCraftingClassDataWithCharacterData())\n  }\n\n  updateLocalStorage (abbreviation, newData) {\n    const { classData } = this.state\n    const newClassData = _cloneDeep(classData)\n    const targetData = _find(newClassData, c => c.abbreviation === abbreviation)\n    if (targetData) {\n      const replacementData = {\n        ...targetData,\n        ...newData\n      }\n\n      const toUpdate = _uniqBy(_concat(replacementData, newClassData), c => c.abbreviation)\n\n      this.updateClassData(toUpdate)\n    }\n  }\n\n  applySorting (classData) {\n    const { sortData } = this.state\n    return _orderBy(_cloneDeep(classData), sortData.field, sortData.direction)\n  }\n\n  setSorting (field) {\n    const { sortData } = this.state\n    const newSortData = {\n      ...sortData\n    }\n\n    if (_isEqual(JSON.stringify(sortData.field), JSON.stringify(field))) {\n      newSortData.direction = sortData.direction === 'asc' ? 'desc' : 'asc'\n    } else {\n      newSortData.field = field\n      newSortData.direction = 'asc'\n    }\n\n    this.setState({\n      sortData: newSortData\n    })\n  }\n\n  applyFilter (classData) {\n    const { filterData } = this.state\n    return _filter(_cloneDeep(classData), filterData.criteria)\n  }\n\n  setFilter (label, criteria) {\n    this.setState({\n      filterData: {\n        label,\n        criteria\n      }\n    })\n  }\n\n  render () {\n    const { characterData, classData, filterData, lodestoneModalIsOpen } = this.state\n    const characterIsLoaded = !!characterData && !!characterData.Character\n    return (\n      <div>\n        <Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\">\n          <Navbar.Brand>\n            FFXIV Crafting & Gathering Helper\n          </Navbar.Brand>\n          <Nav className=\"mr-auto\">\n            <NavDropdown title={`Showing ${filterData.label}`}>\n              <NavDropdown.Item onClick={this.setFilter.bind(this, 'All', undefined)}>\n                Show All\n              </NavDropdown.Item>\n              <NavDropdown.Divider />\n              <NavDropdown.Item onClick={this.setFilter.bind(this, 'Crafting Classes', c => c.type === 'crafting')}>\n                Crafting Classes\n              </NavDropdown.Item>\n              <NavDropdown.Item onClick={this.setFilter.bind(this, 'Gathering Classes', c => c.type === 'gathering')}>\n                Gathering Classes\n              </NavDropdown.Item>\n              <NavDropdown.Divider />\n              {_map(_orderBy(CRAFTING_CLASSES, 'name'), (cc, key) => (\n                <NavDropdown.Item\n                  key={key}\n                  onClick={this.setFilter.bind(this, cc.name, c => cc.abbreviation === c.abbreviation)}\n                >\n                  {cc.name}\n                </NavDropdown.Item>\n              ))}\n            </NavDropdown>\n          </Nav>\n          <Nav>\n            {!characterIsLoaded && (\n              <React.Fragment>\n                <Nav.Link onClick={this.activateLodestoneModal.bind(this)}>\n                  Import Character Data\n                </Nav.Link>\n                <Nav.Link onClick={this.clearCraftingClassData.bind(this)}>\n                  Clear Crafting Class Data\n                </Nav.Link>\n              </React.Fragment>\n            )}\n            {characterIsLoaded && (\n              <NavDropdown\n                title={(\n                  <span>\n                    {characterData.Character.Name}\n                    <img\n                      src={characterData.Character.Avatar}\n                      alt={characterData.Character.Name}\n                      className=\"character-icon\"\n                    />\n                    </span>)}\n                className=\"dropleft\"\n              >\n                <NavDropdown.Item onClick={this.refreshCharacterData.bind(this)}>\n                  Refresh Character Class Data\n                </NavDropdown.Item>\n                <NavDropdown.Divider />\n                <NavDropdown.Item onClick={this.activateLodestoneModal.bind(this)}>\n                  Import Different Character Data\n                </NavDropdown.Item>\n                <NavDropdown.Item onClick={this.clearCharacterData.bind(this)}>\n                  Clear Character Data\n                </NavDropdown.Item>\n                <NavDropdown.Divider />\n                <NavDropdown.Item onClick={this.clearCraftingClassData.bind(this)}>\n                  Clear Crafting Class Data\n                </NavDropdown.Item>\n              </NavDropdown>\n            )}\n          </Nav>\n        </Navbar>\n        <Container fluid>\n          {!characterIsLoaded && !!characterData && (\n            <div className=\"alert alert-info\">\n              Your character is being imported for the first time. Congratulations!<br />\n              Please wait a few minutes and try your import again.\n            </div>\n          )}\n          <CalculationsTable\n            classData={this.applyFilter(this.applySorting(classData))}\n            updateLocalStorage={this.updateLocalStorage.bind(this)}\n            updateSorting={this.setSorting.bind(this)}\n          />\n        </Container>\n        <LodestoneModal\n          show={lodestoneModalIsOpen}\n          onHide={this.deactivateLodestoneModal.bind(this)}\n          onSelect={this.updateCharacterData.bind(this)}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Calculations\n","import React from 'react'\nimport Calculations from './Calculations'\n\nclass App extends React.Component {\n  render () {\n    return (\n      <Calculations />\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nimport './styles/index.scss'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}